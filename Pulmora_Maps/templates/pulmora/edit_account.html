{% load static %}

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/edit_account.css' %}">
    <title>Mi Perfil - Pulmora</title>
</head>

<body>
    {% include 'pulmora/partials/header.html' %}

    <div class="profile-container">
        <div id="successMessage" class="success-message">
            âœ“ Perfil guardado exitosamente
        </div>

        <div class="card">
            <h2 class="card-title">ğŸ“ Crear Mi Perfil</h2>

            <form id="profileForm">
                <div class="avatar-section">
                    <div class="avatar-preview" id="avatarPreview">
                        <span id="avatarEmoji">ğŸ™‚</span>
                    </div>
                    <div>
                        <label>Elige tu avatar</label>
                        <div class="emoji-picker">
                            <div class="emoji-option selected" data-emoji="ğŸ™‚" onclick="selectEmoji('ğŸ™‚')">ğŸ™‚</div>
                            <div class="emoji-option" data-emoji="ğŸ˜Š" onclick="selectEmoji('ğŸ˜Š')">ğŸ˜Š</div>
                            <div class="emoji-option" data-emoji="ğŸ»" onclick="selectEmoji('ğŸ»')">ğŸ»</div>
                            <div class="emoji-option" data-emoji="ğŸ¦Š" onclick="selectEmoji('ğŸ¦Š')">ğŸ¦Š</div>
                            <div class="emoji-option" data-emoji="ğŸ¼" onclick="selectEmoji('ğŸ¼')">ğŸ¼</div>
                            <div class="emoji-option" data-emoji="ğŸŒ±" onclick="selectEmoji('ğŸŒ±')">ğŸŒ±</div>
                            <div class="emoji-option" data-emoji="ğŸŒ³" onclick="selectEmoji('ğŸŒ³')">ğŸŒ³</div>
                            <div class="emoji-option" data-emoji="ğŸŒ»" onclick="selectEmoji('ğŸŒ»')">ğŸŒ»</div>
                        </div>
                        <p class="info-text">O sube tu propia imagen</p>
                        <input type="file" id="avatarUpload" accept="image/*" style="display: none;"
                            onchange="handleImageUpload(event)">
                        <button type="button" class="avatar-upload-btn"
                            onclick="document.getElementById('avatarUpload').click()">
                            ğŸ“¤ Subir imagen
                        </button>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="nombre">Nombre *</label>
                        <input type="text" id="nombre" placeholder="Ej: Clara LÃ³pez" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" placeholder="tu@email.com" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="pais">PaÃ­s ğŸŒ</label>
                    <select id="pais">
                        <option value="">Selecciona tu paÃ­s</option>
                        <option value="MX">ğŸ‡²ğŸ‡½ MÃ©xico</option>
                        <option value="ES">ğŸ‡ªğŸ‡¸ EspaÃ±a</option>
                        <option value="AR">ğŸ‡¦ğŸ‡· Argentina</option>
                        <option value="CO">ğŸ‡¨ğŸ‡´ Colombia</option>
                        <option value="CL">ğŸ‡¨ğŸ‡± Chile</option>
                        <option value="PE">ğŸ‡µğŸ‡ª PerÃº</option>
                        <option value="US">ğŸ‡ºğŸ‡¸ Estados Unidos</option>
                        <option value="otro">ğŸŒ Otro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="bio">BiografÃ­a</label>
                    <textarea id="bio"
                        placeholder="CuÃ©ntanos sobre ti y tu compromiso con el medio ambiente..."></textarea>
                    <p class="info-text">Ej: Aficionada a la naturaleza y el senderismo âœ…</p>
                </div>

                <div class="form-group">
                    <label for="objetivo">Mi objetivo ambiental</label>
                    <textarea id="objetivo" placeholder="Â¿QuÃ© quieres lograr?"></textarea>
                    <p class="info-text">Ej: Trabajando para reducir mi huella</p>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="intereses">Intereses principales</label>
                        <select id="intereses">
                            <option value="">Selecciona...</option>
                            <option value="reciclaje">â™»ï¸ Reciclaje</option>
                            <option value="transporte">ğŸš´ Transporte verde</option>
                            <option value="alimentacion">ğŸ¥— AlimentaciÃ³n sostenible</option>
                            <option value="energia">âš¡ EnergÃ­a renovable</option>
                            <option value="conservacion">ğŸŒ³ ConservaciÃ³n</option>
                            <option value="educacion">ğŸ“š EducaciÃ³n ambiental</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="nivel">Nivel de experiencia</label>
                        <select id="nivel">
                            <option value="">Selecciona...</option>
                            <option value="principiante">ğŸŒ± Principiante</option>
                            <option value="intermedio">ğŸŒ¿ Intermedio</option>
                            <option value="avanzado">ğŸŒ³ Avanzado</option>
                            <option value="experto">ğŸ† Experto</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="publico">
                    <label for="publico" style="margin-bottom: 0;">Hacer mi perfil pÃºblico en la comunidad</label>
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">ğŸ’¾ Guardar Perfil</button>
                    <button type="button" class="btn btn-secondary" onclick="previewProfile()">ğŸ‘ï¸ Vista Previa</button>
                </div>
            </form>
        </div>

        <div class="card" id="previewCard" style="display: none;">
            <h2 class="card-title">ğŸ‘€ Vista Previa de tu Perfil</h2>
            <div class="preview-section">
                <div class="preview-header">
                    <div class="preview-avatar" id="previewAvatar">
                        ğŸ™‚
                    </div>
                    <div class="preview-info">
                        <h3 id="previewNombre">Tu Nombre</h3>
                        <div class="preview-bio" id="previewBio">Tu biografÃ­a aparecerÃ¡ aquÃ­</div>
                        <div class="preview-bio" id="previewObjetivo" style="margin-top: 5px;">Tu objetivo aparecerÃ¡
                            aquÃ­</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{% static 'js/edit-account.js' %}"></script>
</body>

</html>