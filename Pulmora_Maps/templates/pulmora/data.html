{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="{% static 'img/icon.ico' %}" type="image/x-icon">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="{% static 'css/data.css' %}">
    <title>Datos - Mapa Interactivo</title>
</head>
<body>

    {% include 'pulmora/partials/header.html' %}
    {% include 'pulmora/partials/pulmorin.html' %}
    {% include 'pulmora/partials/breadcrumb.html' %}

    <main class="data-container">
        <div class="dashboard-wrapper">
            <div class="main-title">
                <h1>Datos Ambientales por País</h1>
                <div class="data-switch-container">
                    <button class="switch-btn active" data-view="co2-emissions">
                        Emisiones CO₂
                    </button>
                    <button class="switch-btn" data-view="air-quality">
                        Calidad de Aire
                    </button>
                </div>
            </div>
            <div class="map-section">
                <div id="interactive-map"></div>
                <div class="map-legend" id="map-legend">
                </div>
            </div>
            <div class="kpi-cards-container" id="kpi-cards">
            </div>
            <div class="charts-container" id="charts-container">
            </div>
        </div>
    </main>

    <script id="air-quality-data" type="application/json">
        {{ air_quality_data|safe }}
    </script>

    <script id="co2-data" type="application/json">
        {{ co2_data|safe }}
    </script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/data.js' %}"></script>
</body>
</html>